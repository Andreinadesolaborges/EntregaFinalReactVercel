{"ast":null,"code":"var _jsxFileName = \"/Users/andreinadesola/Desktop/React curso/proyecto-desola/proyecto-desola/src/context/CarritoContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { useContext, createContext, useState } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CarritoContext = /*#__PURE__*/createContext();\nexport const useCarritoContext = () => {\n  _s();\n  return useContext(CarritoContext);\n};\n_s(useCarritoContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport const CarritoProvider = props => {\n  _s2();\n  const [carrito, setCarrito] = useState([]);\n\n  //Si existe producto en el carrito\n  const isInCart = id => {\n    return carrito.find(prod => prod.id === id);\n  };\n\n  //Agregar producto\n  const addItem = (producto, cantidad) => {\n    if (isInCart(producto.id)) {\n      const indice = carrito.findIndex(prod => prod.id === producto.id);\n      const aux = [...carrito];\n      aux[indice].cant = cantidad;\n      setCarrito(aux);\n    } else {\n      const prodCart = {\n        ...producto,\n        cant: cantidad\n      };\n      setCarrito([...carrito, prodCart]);\n    }\n  };\n  //Vaciar carrito\n  const emptyCart = () => {\n    setCarrito([]);\n  };\n\n  //Eliminar producto\n  const removeItem = id => {\n    setCarrito(carrito.filter(prod => prod.id !== id));\n    toast.success('⚠️ El producto ha sido eliminado');\n  };\n\n  //Cantidad total de productos en carrito\n  const getItemQuantity = () => {\n    return carrito.reduce((acum, prod) => acum += prod.cant, 0);\n  };\n\n  //Precio total de la compra\n  const totalPrice = () => {\n    return carrito.reduce((acum, prod) => acum += prod.cant * prod.precio, 0);\n  };\n  console.log(carrito);\n  return /*#__PURE__*/_jsxDEV(CarritoContext.Provider, {\n    value: {\n      carrito,\n      addItem,\n      removeItem,\n      emptyCart,\n      getItemQuantity,\n      totalPrice\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 9\n  }, this);\n};\n_s2(CarritoProvider, \"P1BaWXIQpOcWXPCAlakQBGCmK7g=\");\n_c = CarritoProvider;\nvar _c;\n$RefreshReg$(_c, \"CarritoProvider\");","map":{"version":3,"names":["useContext","createContext","useState","toast","CarritoContext","useCarritoContext","CarritoProvider","props","carrito","setCarrito","isInCart","id","find","prod","addItem","producto","cantidad","indice","findIndex","aux","cant","prodCart","emptyCart","removeItem","filter","success","getItemQuantity","reduce","acum","totalPrice","precio","console","log","children"],"sources":["/Users/andreinadesola/Desktop/React curso/proyecto-desola/proyecto-desola/src/context/CarritoContext.js"],"sourcesContent":["import { useContext, createContext, useState } from \"react\";\nimport { toast } from \"react-toastify\";\n\nconst CarritoContext = createContext()\n\nexport const useCarritoContext = () => useContext(CarritoContext)\n\nexport const CarritoProvider = (props) => {\n\n    const [carrito, setCarrito] = useState([])\n\n    //Si existe producto en el carrito\n    const isInCart = (id) => {\n    \n        return carrito.find(prod => prod.id === id)\n    }\n\n    //Agregar producto\n    const addItem = (producto, cantidad) => {\n        if(isInCart(producto.id)) { \n            const indice = carrito.findIndex(prod => prod.id === producto.id)\n            const aux = [...carrito]\n            aux[indice].cant = cantidad\n            setCarrito(aux)\n        } else { \n            const prodCart ={\n                ...producto, \n                cant: cantidad\n            }\n           \n            setCarrito([...carrito, prodCart])\n\n        }\n    }\n    //Vaciar carrito\n    const emptyCart = () => {\n        setCarrito([])\n    }\n\n    //Eliminar producto\n    const removeItem = (id) => {\n        setCarrito(carrito.filter(prod => prod.id !== id))\n        toast.success('⚠️ El producto ha sido eliminado');\n    }\n\n    //Cantidad total de productos en carrito\n    const getItemQuantity = () => {\n        return carrito.reduce((acum, prod) => acum += prod.cant, 0)\n    }\n\n    //Precio total de la compra\n    const totalPrice = () => {\n        return carrito.reduce((acum, prod) => acum += (prod.cant * prod.precio), 0)\n    }\n    console.log(carrito)\n\n    return (\n        <CarritoContext.Provider value={{carrito, addItem, removeItem, emptyCart, getItemQuantity, totalPrice}}>\n                {props.children}\n        </CarritoContext.Provider>\n    )\n\n}"],"mappings":";;;AAAA,SAASA,UAAU,EAAEC,aAAa,EAAEC,QAAQ,QAAQ,OAAO;AAC3D,SAASC,KAAK,QAAQ,gBAAgB;AAAC;AAEvC,MAAMC,cAAc,gBAAGH,aAAa,EAAE;AAEtC,OAAO,MAAMI,iBAAiB,GAAG;EAAA;EAAA,OAAML,UAAU,CAACI,cAAc,CAAC;AAAA;AAAA,GAApDC,iBAAiB;AAE9B,OAAO,MAAMC,eAAe,GAAIC,KAAK,IAAK;EAAA;EAEtC,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;;EAE1C;EACA,MAAMQ,QAAQ,GAAIC,EAAE,IAAK;IAErB,OAAOH,OAAO,CAACI,IAAI,CAACC,IAAI,IAAIA,IAAI,CAACF,EAAE,KAAKA,EAAE,CAAC;EAC/C,CAAC;;EAED;EACA,MAAMG,OAAO,GAAG,CAACC,QAAQ,EAAEC,QAAQ,KAAK;IACpC,IAAGN,QAAQ,CAACK,QAAQ,CAACJ,EAAE,CAAC,EAAE;MACtB,MAAMM,MAAM,GAAGT,OAAO,CAACU,SAAS,CAACL,IAAI,IAAIA,IAAI,CAACF,EAAE,KAAKI,QAAQ,CAACJ,EAAE,CAAC;MACjE,MAAMQ,GAAG,GAAG,CAAC,GAAGX,OAAO,CAAC;MACxBW,GAAG,CAACF,MAAM,CAAC,CAACG,IAAI,GAAGJ,QAAQ;MAC3BP,UAAU,CAACU,GAAG,CAAC;IACnB,CAAC,MAAM;MACH,MAAME,QAAQ,GAAE;QACZ,GAAGN,QAAQ;QACXK,IAAI,EAAEJ;MACV,CAAC;MAEDP,UAAU,CAAC,CAAC,GAAGD,OAAO,EAAEa,QAAQ,CAAC,CAAC;IAEtC;EACJ,CAAC;EACD;EACA,MAAMC,SAAS,GAAG,MAAM;IACpBb,UAAU,CAAC,EAAE,CAAC;EAClB,CAAC;;EAED;EACA,MAAMc,UAAU,GAAIZ,EAAE,IAAK;IACvBF,UAAU,CAACD,OAAO,CAACgB,MAAM,CAACX,IAAI,IAAIA,IAAI,CAACF,EAAE,KAAKA,EAAE,CAAC,CAAC;IAClDR,KAAK,CAACsB,OAAO,CAAC,kCAAkC,CAAC;EACrD,CAAC;;EAED;EACA,MAAMC,eAAe,GAAG,MAAM;IAC1B,OAAOlB,OAAO,CAACmB,MAAM,CAAC,CAACC,IAAI,EAAEf,IAAI,KAAKe,IAAI,IAAIf,IAAI,CAACO,IAAI,EAAE,CAAC,CAAC;EAC/D,CAAC;;EAED;EACA,MAAMS,UAAU,GAAG,MAAM;IACrB,OAAOrB,OAAO,CAACmB,MAAM,CAAC,CAACC,IAAI,EAAEf,IAAI,KAAKe,IAAI,IAAKf,IAAI,CAACO,IAAI,GAAGP,IAAI,CAACiB,MAAO,EAAE,CAAC,CAAC;EAC/E,CAAC;EACDC,OAAO,CAACC,GAAG,CAACxB,OAAO,CAAC;EAEpB,oBACI,QAAC,cAAc,CAAC,QAAQ;IAAC,KAAK,EAAE;MAACA,OAAO;MAAEM,OAAO;MAAES,UAAU;MAAED,SAAS;MAAEI,eAAe;MAAEG;IAAU,CAAE;IAAA,UAC9FtB,KAAK,CAAC0B;EAAQ;IAAA;IAAA;IAAA;EAAA,QACG;AAGlC,CAAC;AAAA,IAvDY3B,eAAe;AAAA,KAAfA,eAAe;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}